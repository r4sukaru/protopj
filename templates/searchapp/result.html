<!-- テンプレートの継承先 -->
{% extends 'searchapp/base.html' %}
<!-- オーバーライド対象：content=子テンプレートのブロック名 -->
{% block content %}
<!-- humanizeの呼び出し -->
{% load humanize %}
<div class="dev">
    <p class="dev">
    <!-- 検索結果の表示 -->
    <section class="post-list">
        <!-- result_list:クエリの発行結果を格納する -->
        {% if result_list|length == 0 %}
            <p>検索結果が存在しません。</p>
        {% else %}
            <table class="table table-hover table-bordered bg-white">
            <thead class="thead-dark">
                <tr>
                    <th >商品名</th>
                    <th>カテゴリ</th>
                    <th>価格（￥）<br>※税抜き</th>
                </tr>
                <tbody>
                    <!-- result_listの配列数分繰り返す -->
                    {% for post in result_list %}
                        <tr>
                        <!-- 商品を表示 -->
                         <td id="{{post.goodsid}}"width="55%">
                            <form name="form1{{ post.productno }}" method="post" action="">
                                {% csrf_token %}
                                <input type=hidden name="productno" value="{{ post.productno }}">
                                <a href="" onclick="document.form1{{ post.productno }}.submit();return false;"">
                                    <font color="#000000">
                                        {{ post.goodsname }}
                                    </font>
                                </a>
                            </form>
                          </td>
                            <!-- カテゴリを表示 -->
                          <td width="30%">
                              {{ post.categoryid.categoryname }}
                          </td>
                            <!-- 価格を表示 -->
                          <td width="15%">
                          <p style="text-align: right">
                             {{ post.price| intcomma }}
                          </td>
                                </a>
                            </form>
                            </td>
                     </tr>
                 {% endfor %}
                </tbody>
            </table>
        {% endif %}
    </section>
    </p>
    </td></tr></table>
    </div>
</div>
{% endblock %}